import{r as a,ab as b,d as C,a6 as F,j as e,a7 as O,ac as w,a8 as o,T,a9 as v,S as n,aa as l,a5 as E,H as G}from"./index-34CRokHM.js";import{F as P,R as x,L as z}from"./rhf-text-field-9QmEwnpk.js";import{G as d}from"./Grid2-Wbpavk2h.js";function p(){const[i,u]=a.useState(""),h=b(),j=()=>l.success("Order created"),c=r=>l.error(r),f=sessionStorage.getItem("vendor");a.useEffect(()=>{u(f||"")},[]);const g=a.useMemo(()=>({vendor_code:i,commodity:"",quantity:""}),[]),t=C({defaultValues:g}),{handleSubmit:y}=t,m=y(async r=>{const S={...r,vendor_code:i,mode:"test",status:"1"};try{const s=await F.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/create_order",S);s.data.status=="201"?j():s.data.status=="400"&&c(s.data.message)}catch(s){c("Something went wrong"),console.error("Order creation error:",s)}});return e.jsxs(e.Fragment,{children:[e.jsx(O,{}),e.jsx(w,{maxWidth:h.themeStretch?!1:"xl",children:e.jsx(P,{methods:t,onSubmit:m,children:e.jsxs(d,{container:!0,sx:{mt:"30px"},children:[e.jsx(d,{item:!0,md:4,children:e.jsx(o,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(o,{sx:{mb:"30px",fontWeight:"600",fontSize:"18px"},children:["Create Order",e.jsx(T,{sx:{fontSize:"13px",color:"#637381"},children:"Create Order Input fields"})]})})}),e.jsxs(d,{item:!0,md:8,children:[e.jsx(v,{children:e.jsx(n,{spacing:3,sx:{p:3},children:e.jsx(n,{spacing:1.5,children:e.jsxs(o,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)"},children:[e.jsx(x,{name:"commodity",label:"Commodity"}),e.jsx(x,{name:"quantity",label:"Quantity"})]})})})}),e.jsx(n,{alignItems:"flex-end",sx:{mt:3},children:e.jsx(z,{type:"submit",className:"button",loading:t.formState.isSubmitting,onClick:m,children:"Order"})})]})]})})})]})}p.propTypes={currentUser:E.object};function R(){return e.jsxs(e.Fragment,{children:[e.jsx(G,{children:e.jsx("title",{children:" Dashboard: Place Order"})}),e.jsx(p,{})]})}export{R as default};
