import{r,D as h,d as E,j as e,Q as V,E as n,T as f,F as b,S as z,G as y,J as C,K as D,N as L,H as N}from"./index-MKkVIcob.js";import{F as q,R as i,L as O}from"./rhf-text-field-hrfOLSRX.js";import{G as l,R as m}from"./rhf-autocomplete-1pSaGbEg.js";import"./InputAdornment-UsE8SrSQ.js";function S({vendorCode:d,vendorContact:a}){const[s,c]=r.useState(),[p,u]=r.useState([]),x=()=>y.success("User details updated successfully"),_=()=>y.error("Something went wrong");r.useEffect(()=>{B(),F()},[a]);function B(){a&&h.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080//nccf/csp_detail/${a}`).then(t=>{var o;c((o=t==null?void 0:t.data)==null?void 0:o.data[0])}).catch(t=>console.log(t))}function F(){h.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/commodity").then(t=>{var o;u((o=t.data)==null?void 0:o.data)})}const g=E({defaultValues:{address:"",commodity:"",contact_person:"",district:"",gst_number:"",milling_type:"",name:"",pan_number:"",phone_number:a,pincode:"",quantity:"",state:"",village:""}}),{reset:j,handleSubmit:I,formState:{isSubmitting:T}}=g;r.useEffect(()=>{s&&j({address:s.address||"",commodity:s.commodity||"",contact_person:s.contact_person||"",district:s.district||"",gst_number:s.gst_number||"",milling_type:s.milling_type||"",name:s.name||"",pan_number:s.pan_number||"",phone_number:a,pincode:s.pincode||"",quantity:s.quantity||"",state:s.state||"",village:s.village||""})},[s,j,a]);const W=["Dry","Wet","Both"],v=["Gujarat","Delhi","Punjab"],P=["Amreli","Surendranagar","Dhrol"],R=["Surat","Bharuch","Rohini"],w=I(async t=>{const o={...t,vendor_code:d,mode:"test"};h.put("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/update_info",o).then(G=>{x()}).catch(G=>_())});return e.jsx(e.Fragment,{children:e.jsxs(q,{methods:g,onSubmit:w,children:[e.jsx(V,{}),e.jsxs(l,{container:!0,children:[e.jsx(l,{item:!0,md:4,children:e.jsx(n,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Basic Information",e.jsx(f,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),e.jsx(l,{md:8,xs:12,item:!0,children:e.jsx(b,{sx:{p:3},children:e.jsxs(n,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[e.jsx(i,{name:"name",label:"Full Name"}),e.jsx(m,{name:"milling_type",type:"milling_type",label:"Milling Type",placeholder:"Choose Milling Type",fullWidth:!0,options:W.map(t=>t),getOptionLabel:t=>t}),e.jsx(m,{name:"commodity",type:"commodity",label:"Commodity",placeholder:"Choose Commodity",fullWidth:!0,options:p.map(t=>t==null?void 0:t.commodity_name),getOptionLabel:t=>t}),e.jsx(i,{name:"quantity",label:"Quantity"}),e.jsx(i,{name:"contact_person",label:"Contact Person"}),e.jsx(i,{name:"phone_number",label:"Phone Number"}),e.jsx(i,{name:"pan_number",label:"Pan Number"}),e.jsx(i,{name:"gst_number",label:"GST Number"})]})})})]}),e.jsxs(l,{container:!0,sx:{mt:"80px"},children:[e.jsx(l,{item:!0,md:4,children:e.jsx(n,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Address of Proposed Rice Mill Premises",e.jsx(f,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),e.jsx(l,{md:8,xs:12,item:!0,children:e.jsx(b,{sx:{p:3},children:e.jsxs(n,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:[e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 2",md:"span 4"},children:e.jsx(i,{name:"address",label:"Address",fullWidth:!0})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(m,{name:"district",type:"district",label:"District",placeholder:"Choose District",fullWidth:!0,options:P.map(t=>t),getOptionLabel:t=>t})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(m,{name:"state",type:"state",label:"State",placeholder:"Choose Your State",fullWidth:!0,options:v.map(t=>t),getOptionLabel:t=>t})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(i,{name:"pincode",label:"Pin Code",fullWidth:!0})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(m,{name:"village",type:"village",label:"Village",placeholder:"Choose Your Village",fullWidth:!0,options:R.map(t=>t),getOptionLabel:t=>t})})]})})})]}),e.jsx(z,{alignItems:"flex-end",sx:{mt:3},children:e.jsx(O,{type:"submit",className:"button",loading:T,children:"Save"})})]})})}S.propTypes={vendorCode:C.string.isRequired,vendorContact:C.string.isRequired};function U(){const d=D(),[a,s]=r.useState(""),[c,p]=r.useState(""),u=sessionStorage.getItem("vendor"),x=sessionStorage.getItem("phone_number");return r.useEffect(()=>{s(u||""),p(x||"")},[]),e.jsxs(L,{maxWidth:d.themeStretch?!1:"xl",children:[e.jsx(f,{variant:"h4",children:" Basic Information"}),e.jsx(n,{sx:{mt:5,width:1,height:320,borderRadius:2},children:e.jsx(S,{vendorCode:a,vendorContact:c})})]})}function k(){return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsx("title",{children:" Dashboard: Basic Information"})}),e.jsx(U,{})]})}export{k as default};
